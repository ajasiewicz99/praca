{% extends 'base.html.twig' %}

{% block body %}
    <div class="container mt-5">
        <div class="row">
            <div class="col-md-12">
                <h1>{{ dish.name }}</h1>
                <div class="row">
                    <div class="d-flex justify-content-between">
                        <img src="{% if dish.image %}{{ asset(dish.image.path) }}{% else %}https://via.placeholder.com/300 {% endif %}" class="img-fluid" alt="Recipe Image">
                        <div class="col">
                            <p class="mt-3">{{ dish.description }}</p>
                        </div>
                    </div>
                </div>

                <table class="table macros-table mt-3">
                    <tbody>
                    <tr>
                        <th scope="row">Kalorie:</th>
                        <td>{{ dish.macros.calories }} kcal</td>
                    </tr>
                    <tr>
                        <th scope="row">Białko:</th>
                        <td>{{ dish.macros.protein }} g</td>
                    </tr>
                    <tr>
                        <th scope="row">Węglowodany:</th>
                        <td>{{ dish.macros.carbs }} g</td>
                    </tr>
                    <tr>
                        <th scope="row">Tłuszcze:</th>
                        <td>{{ dish.macros.fat }} g</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
        <hr/>
        <div class="row">
            <div class="col">
                <a href="{{ path('dish_index') }}" class="btn btn-primary">Powrót do listy przepisów</a>
            </div>
            <div class="col">
                <form action="{{ path('dish_delete', { id: dish.id }) }}" method="post" onsubmit="return confirm('Czy na pewno chcesz usunąć ten przepis?');">
                    <input type="hidden" name="_method" value="DELETE">
                    <button type="submit" class="btn btn-danger float-right">Usuń przepis</button>
                </form>
                <a href="{{ path('dish_edit', {id: dish.id}) }}" class="btn btn-secondary float-right">Edytuj potrawę</a>
            </div>
        </div>
    </div>
{% endblock %}
